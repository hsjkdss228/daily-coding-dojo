# 💡 How to solve it?
> 문제를 풀기 전에 어떻게 풀 것인지 먼저 생각을 정리하고, 다 풀고 나서 회고한다.

## 호텔 대실

> 연습문제

- https://school.programmers.co.kr/learn/courses/30/lessons/155651
- 예약 시간이 문자열 형태로 담긴 2차원 배열 bookedTimes가 매개별수로 주어질 때,
- 필요한 최소 객실의 수를 return한다.

### 23.4.22

#### 1. 이해

1. 주어진 조건은 무엇인가?
   1. 규칙
      - bookedTimes[i]: ["HH:MM", "HH:MM"]의 형태로 이루어진 배열
        - 각각 [대실 시작 시간, 대실 종료 시간]을 나타냄
      - 시간 표기법
          - HH:MM 형태
          - 24시간 표기법을 따름
          - 00:00부터 23:59까지 주어짐
      - 예약 시각이 자정을 넘어가는 경우는 없음
      - 시작 시각은 항상 종료 시각보다 빠름
      - 한 번 사용한 객실은 퇴실 시간을 기준으로 10분 간 청소 후 다음 손님이 이용 가능.
        - 즉 실질적인 대실 시간은 대실 종료 시간 +10분
   2. 제한사항
      - bookedTimes의 길이: 1 이상 1,000 이하
   3. 추론
      - 시작 시간, 종료 시간은 별도로 관리하는 것이 아니라 쌍으로 관리되어야 한다.

2. 내가 이용할 수 있는 것은 무엇인가?
   - 예약 목록 내 각 예약의 시작 시간과 청소 시간을 포함한 종료 시간
   - 시간을 계산하기 위해 LocalTime 객체를 이용할 수 있을까?

3. 내가 모르는 건 무엇인가?
   - 특정 예약 목록에 대해, 해당 예약 목록이 다른 예약 목록과 시간이 겹치는지 여부

#### 2. 계획

1. 예약 시간 객체 정의: Booking
   - 멤버
     - 시작 시간
     - 종료 시간
   - 메서드
     - 시작 시간, 종료 시간이 겹치는지: boolean
       - 겹치면 true
       - 안 겹치면 false
       - 시간이 겹치는 경우
         - booking과 other가 있다고 할 때
           - booking의 시작 시간이 other의 종료 시간보다 빠른 경우
           - booking의 시작 시간이 other의 시작 시간보다 빠르고,
             booking의 종료 시간이 other의 종료 시간보다 늦는 경우
           - booking의 종료 시간이 other의 시작 시간보다 늦는 경우
   - 엔티티 객체임.
     - 시간이 완전히 겹치는 예약이 있어도 서로 다른 예약이기 때문
2. List<Booking> 정의
3. 정답 정의: int, 0
4. bookedTimes를 차례대로 순회
   1. Booking 객체로 변환하고
   2. List의 시간들을 차례대로 순회하면서 겹치는 시간이 있는지 파악
   3. 돌면서 한 번이라도 겹친다고 판별되면 정답 += 1
   4. List에 해당 Booking 객체 삽입
5. 만들어진 정답을 반환

#### 3. 실행

- 이해/계획: 14:20-14:40
- 풀이: 18:00-19:30
- 오류 추적: 19:30-21:30, 24:00-26:00

#### 4. 반성

##### 1차

- 새로운 방을 추가하는 로직이 다른 방이랑 시간이 겹친다고 해서 무작정 추가하지 말고,
  새로운 방을 추가헀으면 해당 방의 예약 시간을 확인하는 방식으로 로직을 수정한다.
- 객체 Room을 추가하고, List<Booking>을 각 방 별로 갖도록 수정

##### 2차

- 예약끼리 겹치지 않게 하는 것뿐만 아니라, '최소 객실'이어야 한다.
- 지금의 예약 방식은 순서대로 확인하면서 겹치지만 않으면 넣고 있기 때문에,
  최소 조건을 충족하지 못할 수 있다.
- bookedTimes를 Booking으로 변환할 때,
  시작 시간과 예약 시간 순으로 정렬한 뒤 객실 배정을 시도해본다.
- 여전히 풀리지 않는 테스트 케이스가 있다.
- '반복합'이라는 알고리즘을 이용해 풀 수 있다는 사실은 알았으나,
  직관적인 방법으로 풀이할 수는 없는 것일까? 답답하다.
  어떤 테스트 케이스로 인해 로직에 오류가 있는 것인지 알 수 있으면 참 좋을텐데...
- 일단 프로그래머스 질문하기 게시판에 도움을 요청.
